<div class="project_content common-bg">

<!-- The sidebar -->
 <div class="sidebar">
    <a [routerLink]='"."' fragment="content-top" class="active">Video Personalization Platform</a>
    <a [routerLink]='"."' fragment="introduction">What is a CDN?</a>
    <a [routerLink]='"."' fragment="problem">The problem: context & objectives</a>
    <a [routerLink]='"."' fragment="areas">Areas of activity</a>
    <a [routerLink]='"."' fragment="keywords">Keywords</a>
  </div>

<!-- Page content -->
<div class="content">

<h1 id="content-top">Video Personalization Platform</h1>

<table id="top-table">
    <tr>
      <th>Context</th>
      <th>Content Delivery Networks (CDN)</th>
    </tr>
    <tr>
        <td>Framework</td>
        <td>Research & Development in: Telecommunications - Multimedia distribution - Entertainment - Advertising</td>
    </tr>
    <tr>
      <td>Dates</td>
      <td>October 2015 â€“ May 2017</td>
    </tr>
    <tr>
      <td>Activity summary</td>
      <td>Development of new product for customizing CDN delivery</td>
    </tr>
</table> 

<h2 id="introduction">What is a CDN?</h2>

<p>
    A CDN (Content Delivery Network or Content Distribution Network) is a network of proxy servers and data centers geographically distributed with the aim of
    maximizing availability and performance of content distribution. Content (e.g. multimedia files, software, etc.) is cached through the network so that
    proxy servers can efficiently retrieve content from other proxy servers, which produces a reduction in server load, traffic load and latency, and an increse
    in bandwidth, scalability, reliability and security.
</p>
<p>
    The CDN where I worked is called Velocix/Alcatel-Lucent/Nokia CDN from now on (Velocix was acquired by Alcatel-Lucent and Alcatel-Lucent by Nokia in 2016).
    As broadband networks of service providers can be turned into advanced content delivery platforms if specialized systems are integrated within them,
    the purpose of such companies is to provide systems of that kind, having predominantely the distribution of audiovisual content in scope.
</p>
<p>
    It is possible to imagine the functionality of such systems from the main functions found in the Velocix CDN architecture:
</p>
<ul>
    <li>Service tier: session, routing, management and reporting.</li>
    <li>Storage tier: origin, publishing and storage.</li>
    <li>Delivery tier: caching and delivery.</li>
</ul>

<h2 id="problem">The problem: context & objectives</h2>

<b>Context:</b>

<div id="problem-context">
    <div id="problem-context-left">
        <p>
            Velocix Personalization Platform or Video Personalization Platform (VPP) was a new idea that Alcatel-Lucent/Nokia developed within its video business unit as part of its R&D strategy.
            This product is integrated in its CDN solution with the aim of providing those mechanisms that are necessary for performing one or several transformations of
            the audiovisual content requested by each user, dynamically in the time of delivery, in a way that each user can consume a personalized content instead of the original one
            and based on a set of parameters that define the personalization.
        </p>
        <p>
            Take a look at the next basic diagram, without this product the most common use case is the following:
        </p>
        <ol>
            <li>End-user requests the content to the closest edge-node of the CDN (PCD).</li>
            <li>If the PCD has a local copy of the content in its cache, it servers it to the user.</li>
            <li>
                If the PCD did not find a copy in such cache, it requests the content to other CDN nodes that operate similarly.
                When no node up in the CDN hierarchy has the content, the upper nodes requests it to the origin server.
            </li>
            <li>Depending on content attributes, the content is kept cached or not for some timespan (e.g. on-demand video is cached while live video not).</li>
        </ol>
        <p>
            When introducing VPP, this flow is altered: PCDs contact firstly their associated VPPs through component Personalization Engine (PE).
            PE interacts with component Video Personalization Manager (VPM) to retrieve session information and transformation rules applicable to the content for that session.
            Based on them, PE requests every content needed for the transformation (e.g. original on-demand video and a set of video ads) to PCD.
            Eventually PE customizes the original content, passes the customized version to PCD and asks PCD for caching or not such customized content.
        </p>
        <p>
            The VPM mainly consists of two components based on Service-Oriented Architecture (SOA) principles: the rule engine and the session tracker.
            In addition, VPM can contact third-party systems like advertising tools.
        </p>
        <p>
            The PE consists of HTTP front-end, groups of threads (for communication, personalization, cache and session management, etc.) transformation modules,
            cache, system management (e.g. SNMP), etc.
        </p>
    </div>
    <div id="problem-context-right">
        <img src="assets/img/projects/Video_Personalization_Platform.svg" alt="Diagram: video personalization platform">
    </div>
    
</div>
<br>

<b>Objectives:</b>

<ul>
    <li>Elaborate an scalable infrastructure able to transform audiovisual content in real time in the phase of delivery and according to a set of parameters obtained either from the user request or from external services.</li>
    <li>Define and implement the mechanisms for obtaining the data that are necessary for performing each personalization.</li>
    <li>Build an interface that allows to use a set of transformations in accordance with the available parameters.</li>
    <li>Perform transformations in the context of the specification HLS (Apple's HTTP Live Streaming).</li>
    <li>Perform transformations in the context of the specification MSS (Microsoft's Smooth Streaming).</li>
    <li>Guarantee that the solution is extensible to other specifications in the future (for instance DASH - Dynamic Adaptive Streaming over HTTP).</li>
    <li>Offer the next transformations: ad insertion in video-on-demand content, ad insertion in live content, different modalities of blackout, alternative content, bandwidth limitation, access control and content encryption, emergency alerts, etc.</li>
    <li>Be compatible with other systems by means of REST interfaces (HTTP).</li>
    <li>Integrate within Velocix's CDN.</li>
    <li>Deliver a competitive performance rate.</li>
    <li>Support highly variable specifications and customer requirements.</li>
</ul>

<h2 id="areas">Areas of activity</h2>

<b>Responsibilities:</b>
<ul>
    <li>Developing software, carrying out tasks mainly related with coding, system integration and testing.</li>
    <li>Studying specifications for video streaming, like HLS and MSS, and researching how transformations of content based in such specifications can be done within the CDN.</li>
    <li>Designing and implementing the Personalization Engine, the component that implements the business logic of the transformations.</li>
    <li>Implementing simulators of third-party components, in order to allow early testing of the solutions when the original component is not available.</li>
    <li>Developing personalization algorithms for the next transformations: ad insertion in video on demand content, ad insertion in live content, segment/fragment based blackout, manifest based blackout, alternative content in live content.</li>
    <li>Debugging workflows, integrations and bug fixing.</li>
    <li>Preparing proofs of concept (PoCs) for customers of Nokia (e.g. Time Warner Cable, Vodafone, Layer3 TV and Century Link). Sometimes, doing software integration tasks and demonstrations on-site.</li>
</ul>

<b>Approach (tools and knowledge):</b>

<ul>
    <li>Multimedia protocols and specifications (IPTV, TS, HLS, MSS, DASH, etc.)</li>
    <li>Advanced software engineering (e.g. agile methodologies like Scrum, design patterns, unit tests, continuous integration, etc.).</li>
    <li>Development in C, C++ and Python.</li>
    <li>Integrated development environments like Eclipse and editors like Notepad++, VI and VIM.</li>
    <li>Debugging and analysis tools like GDB, CGDB and Valgrind.</li>
    <li>Reviewboard and P4V for code reviews.</li>
    <li>Unit testing using Google Test framework.</li>
    <li>Documentation tools like Doxygen and Confluence.</li>
    <li>Software libraries (e.g. Flask, legacy libraries).</li>
    <li>Strategies for doing end-to-end testing (both manual and automatic).</li>
    <li>Operating systems based on Linux (RedHat, CentOS).</li>
    <li>Integration tests with JMeter and Postman.</li>
    <li>Communication networks, protocols (e.g. HTTP and ICAP) and content delivery networks.</li>
    <li>Network sniffers and analyzers (Wireshark, Fiddler, tcpdump).</li>
    <li>Version control systems like Perforce and GIT.</li>
    <li>Virtual Machines (KVM, VirtualBox) and remote access.</li>
    <li>Web applications, web services and architectures of microservices.</li>
    <li>Video players like VLC.</li>
    <li>Scripting in Linux and Windows.</li>
</ul>


<b>Achievements (results & added value):</b>

    <p>
        During 2015 the effectiveness of the component VPM (Personalization Manager and Session Tracker) was consolidated.
        This allowed to start the development of the component PE (Personalization Engine) and thus this was the moment were I joined the project, focused on such component.
        Throughout time the PE has been improved and developed, adding new personalization capabilities and new features to the product.
        I left the project in April 2017 due to an offshoring decision.
    </p>

    <p>As a result of the period when I was involved:</p>

    <ul>
        <li>The PE (and then VPP) is able to perform the following transformations:
            <ol>
                <li>ad insertion in video on demand content,</li>
                <li>ad insertion in live content,</li>
                <li>segment/fragment based blackout,</li>
                <li>manifest based blackout,</li>
                <li>alternative content in live content.</li>
            </ol>
            All these transformations work for HLS and only blackout works with MSS.
        </li>
        <li>The PE includes mechanisms for availability management, logging, debugging, etc.; following the design of the CDN.</li>
        <li>The PE is highly tested, basically by means of a complete set of unit tests as well as integration and performance tests.</li>
        <li>The software architecture and the code of the PE is easier to understand, modify and expand.</li>
        <li>A complete integration of the VPP in the Velocix CDN was carried out.</li>
        <li>The first proof of concepts of the whole product were done to potential customers of Nokia (e.g. Vodafone, Time Warner Cable, Century Link, Layer3 TV),
            after doing some development effort in order to integrate with their systems.
        </li>
    </ul>

<p>
    As a consequence and thanks to our R&D efforts, Nokia got a product that is far from a minimum viable product and
    therefore the VPP can be currently employed for offering extra functionalities within its CDN.
    Moreover, the state of the VPP as a software engineering continuous process outdoes any previous state and new requirements can be included and tested easier and faster.
</p>


<h2 id="keywords">Keywords (tools & techniques)</h2>

<ul>
    <li>C/C++</li>
    <li>Linux</li>
    <li>Python</li>
    <li>Perforce</li>
    <li>Google Test</li>
    <li>Flask</li>
    <li>Postman</li>
    <li>JMeter</li>
    <li>Eclipse</li>
    <li>Video</li>
    <li>HTTP</li>
    <li>ICAP</li>
    <li>HLS (Apple's HTTP Live Streaming)</li>
    <li>MSS (Microsoft Smooth Streaming)</li>
    <li>CDN</li>
    <li>Agile</li>
    <li>Scrum</li>
</ul>


</div>